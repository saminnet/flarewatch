# Cloudflare
# - Account ID: Dashboard → Workers & Pages → Overview
# - API Token: use the "Edit Cloudflare Workers" template or create a token that can manage Workers + KV.
CLOUDFLARE_ACCOUNT_ID=your_account_id
CLOUDFLARE_API_TOKEN=your_api_token

# Pulumi state backend (Cloudflare R2 via S3 API)
# 1) Create an R2 "API token" (S3 credentials): Dashboard → R2 → Manage R2 API Tokens
# 2) Create an R2 bucket for Pulumi state (or let CI create it)
AWS_ACCESS_KEY_ID=your_r2_access_key_id
AWS_SECRET_ACCESS_KEY=your_r2_secret_access_key
PULUMI_CONFIG_PASSPHRASE=your_passphrase_for_secrets_encryption

# Example backend URL (bucket must exist):
# PULUMI_BACKEND_URL=s3://<project>-pulumi-state?endpoint=https://<account_id>.r2.cloudflarestorage.com&region=auto

# Optional (worker → proxy auth token)
# If you use the self-hosted proxy, set a shared Bearer token so the monitoring worker can authenticate.
# pulumi -C infra config set --secret proxyToken
