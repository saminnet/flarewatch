# Wrangler configuration for monitoring worker
#
# Usage:
#   Local dev:  pnpm worker:dev
#   Deploy:     wrangler deploy (alternative to Pulumi)
#
# Note: Pulumi (pnpm infra:up) is the recommended deployment method
# as it manages all resources together (KV, workers, cron triggers).

name = "flarewatch-worker"
main = "src/index.ts"
compatibility_date = "2025-11-17"
compatibility_flags = []

# KV namespace binding
# - Local dev: Uses wrangler-dev.toml with persisted local state
# - Build (pnpm worker:build): Placeholder ID is shown but ignored
# - Deploy: Pulumi injects the real KV namespace ID
kv_namespaces = [{ binding = "FLAREWATCH_STATE", id = "placeholder-for-build" }]
